<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.2/dist/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/blob-util@4.0.0/dist/blob-util.min.js"></script>
    
  <title>Welcome to Code Editor</title>
  <style>
    /* CSS styles for page */
    body {
      background-color: #f2f2f2;
      font-family: Arial, sans-serif;
    }
      .container {
        width: 80%;
        margin: 0 auto;
      }

      /* Styles for code editor box */
      #editor {
        width: 100%;
        height: 400px;
      }

      /* Styles for output box */
      #output {
        width: 100%;
        height: 200px;
        background-color: #fff;
        padding: 10px;
        overflow-y: scroll;
      }
  </style>
  </head>
  <body>
    <div class="container">
      <h1>Welcome to Code Editor</h1>
      <p>Enter your code below and click "Run" to see the output.</p>
      <div>
        <div id="editor"></div>
        <button id="run-button">Run</button>
      </div>
      <div id="output"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ace.js"></script>
    <script>
      // Initialize ace editor
      var editor = ace.edit("editor");
      editor.setTheme("ace/theme/monokai");
      editor.session.setMode("ace/mode/javascript");
      editor.setValue("console.log('Hello, World!')", -1); // include hello world program by default

      // Function to run code and display output in output box
      function runCode() {
        var code = editor.getValue();
        var output = document.getElementById("output");
        output.innerHTML = ""; // clear output box before running new code

        // Use eval() function to run code and save to file
        try {
            var result = eval(code);
            if(result){
                output.innerHTML = result;
            }
            var blob = new Blob([code], {type: "text/plain;charset=utf-8"});
            saveAs(blob, "dump.txt");
        } catch (err) {
            output.innerHTML = "Error: " + err;
        }
      }

      // Add event listener to run button
      var runButton = document.getElementById("run-button");
      runButton.addEventListener("click", runCode);
    </script>
  </body>
  </html>
